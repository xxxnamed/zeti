<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Написать отзыв</title>
  <link rel="stylesheet" href="style.css">
  <style>
    form {
      display: flex;
      flex-direction: column;
      gap: 15px; /* Расстояние между полями */
      max-width: 400px; /* Максимальная ширина формы */
      margin: 0 auto; /* Центрируем форму */
    }

    input, textarea {
      padding: 10px;
      font-size: 16px;
      width: 100%;
      box-sizing: border-box;
    }

    button {
      padding: 10px 15px;
      font-size: 16px;
      background-color: #4CAF50; /* Зеленый фон */
      color: white;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #45a049; /* Темно-зеленый при наведении */
    }
  </style>
</head>
<body>
  <header>
    <!-- Шапка с заголовком страницы формы -->
    <h1>Написать отзыв</h1>
  </header>
  <main>
    <form action="https://formsubmit.co/your-email@example.com" method="POST">
      <!-- Поля ввода с placeholder-ами согласно требованиям -->
      <input type="text" id="name" name="name" placeholder="Ваше имя" required>
      <input type="email" id="email" name="email" placeholder="Адрес электронной почты" required>
      <textarea id="message" name="message" placeholder="Сообщение" required></textarea>
      
      <input type="hidden" name="_next" value="thank-you.html">
      <input type="hidden" name="_captcha" value="false">
      <!-- Кнопка отправки теперь обычная кнопка -->
      <button type="submit">Отправить форму</button>
    </form>
  </main>

  <!-- Скрипт для кастомизации сообщений об ошибках с задержкой 0.5 сек -->
  <script>
    document.addEventListener('DOMContentLoaded', function(){
      let form = document.querySelector('form');
      let nameField = document.getElementById('name');
      let emailField = document.getElementById('email');
      let messageField = document.getElementById('message');

      // Таймеры для задержки проверки
      let timers = { name: null, email: null, message: null };

      function validateField(field, timerKey, errorMessage) {
        clearTimeout(timers[timerKey]);
        timers[timerKey] = setTimeout(function(){
          if(!field.value.trim()){
            showError(field, errorMessage);
          } else {
            hideError(field);
          }
        }, 500);
      }

      function showError(field, message) {
        let errorSpan = field.nextElementSibling;
        if(!errorSpan || !errorSpan.classList.contains('error-message')){
          errorSpan = document.createElement('span');
          errorSpan.className = 'error-message';
          field.parentNode.insertBefore(errorSpan, field.nextSibling);
        }
        errorSpan.textContent = message;
        errorSpan.style.display = 'block';
        field.style.borderColor = 'red'; // Подсветка поля красным
      }

      function hideError(field) {
        let errorSpan = field.nextElementSibling;
        if(errorSpan && errorSpan.classList.contains('error-message')){
          errorSpan.textContent = '';
          errorSpan.style.display = 'none';
        }
        field.style.borderColor = ''; // Убираем подсветку после корректного ввода
      }

      nameField.addEventListener('input', function(){
        validateField(nameField, 'name', 'Заполните поле с вашим именем');
      });
      emailField.addEventListener('input', function(){
        validateField(emailField, 'email', 'В адресе электронной почты должен быть символ "@"');
      });
      messageField.addEventListener('input', function(){
        validateField(messageField, 'message', 'Заполните поле с сообщением');
      });

      form.addEventListener('submit', function(e){
        let valid = true;
        if(!nameField.value.trim()){
          showError(nameField, 'Заполните поле с вашим именем');
          valid = false;
        }
        if(!emailField.value.includes('@')){
          showError(emailField, 'В адресе электронной почты должен быть символ "@"');
          valid = false;
        }
        if(!messageField.value.trim()){
          showError(messageField, 'Заполните поле с сообщением');
          valid = false;
        }
        if(!valid){
          e.preventDefault();
        }
      });
    });
  </script>
</body>
</html>
